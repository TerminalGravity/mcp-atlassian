# AI SDK 6 Chatbot Components Gap Analysis
# Reference: https://github.com/vercel/ai-chatbot/tree/main/components/ai-elements
# Docs: https://ai-sdk.dev/docs/ai-sdk-ui/chatbot

project: jira-knowledge-web
analysis_date: "2026-01-26"
ai_sdk_version: "6.x"
last_updated: "2026-01-26"

components:
  # ============ IMPLEMENTED ============
  implemented:
    - name: message
      status: implemented
      file: src/components/chat/chat-message.tsx
      notes: Full message rendering with parts support

    - name: prompt-input
      status: implemented
      file: src/components/chat/chat-input.tsx
      notes: Text input with stop button

    - name: conversation
      status: implemented
      file: src/components/chat/chat-container.tsx
      notes: Full conversation management with sidebar

    - name: model-selector
      status: implemented
      file: src/components/chat/chat-container.tsx
      notes: Dropdown in header

    - name: reasoning
      status: implemented
      file: src/components/chat/reasoning.tsx
      notes: Collapsible thinking display

    - name: sources
      status: implemented
      file: src/components/chat/sources.tsx
      notes: Issue sources with expand/collapse

    - name: suggestion
      status: implemented
      file: src/components/chat/suggestion-chips.tsx
      notes: Follow-up prompt chips

    - name: tool
      status: implemented
      file: src/components/chat/chat-message.tsx
      notes: ToolInvocation component for search results

    # AI-ELEMENTS (Phase 1 - High Priority) - COMPLETE
    - name: inline-citation
      status: implemented
      file: src/components/ai-elements/inline-citation.tsx
      notes: Full HoverCard carousel with Jira issue citations
      integration: NOT YET INTEGRATED into chat-message.tsx

    - name: plan
      status: implemented
      file: src/components/ai-elements/plan.tsx
      notes: Collapsible plan with steps and streaming support
      integration: NOT YET INTEGRATED into chat-message.tsx

    - name: task
      status: implemented
      file: src/components/ai-elements/task.tsx
      notes: Multi-task list with progress, status indicators
      integration: NOT YET INTEGRATED into chat-message.tsx

    # AI-ELEMENTS (Phase 2 - Medium Priority) - COMPLETE
    - name: chain-of-thought
      status: implemented
      file: src/components/ai-elements/chain-of-thought.tsx
      notes: Step-by-step thinking with search results display
      integration: INTEGRATED - ChainOfThoughtCard used in chat-message.tsx for tool steps

    - name: checkpoint
      status: implemented
      file: src/components/ai-elements/checkpoint.tsx
      notes: Conversation markers with restore/branch actions
      integration: NOT YET INTEGRATED into chat-message.tsx

    - name: confirmation
      status: implemented
      file: src/components/ai-elements/confirmation.tsx
      notes: User approval prompts with approve/reject state handling
      integration: NOT YET INTEGRATED into chat-message.tsx

    - name: context
      status: implemented
      file: src/components/ai-elements/context.tsx
      notes: Display what Jira data informed the response
      integration: INTEGRATED - ContextJiraCard used in chat-message.tsx for sources

  # ============ MISSING (Phase 3 - Low Priority) ============
  missing:
    - name: queue
      status: missing
      priority: low
      description: Pending message queue visualization
      value: Shows queued requests during high load
      reference: https://github.com/vercel/ai-chatbot/blob/main/components/ai-elements/queue.tsx

    - name: attachments
      status: missing
      priority: low
      description: File upload and display in messages
      value: Attach screenshots, documents to queries
      reference: https://github.com/vercel/ai-chatbot/blob/main/components/preview-attachment.tsx

    - name: shimmer
      status: partial
      priority: low
      current: Basic shimmer in plan.tsx
      needed: Standalone reusable skeleton component
      file: src/components/ai-elements/shimmer.tsx (to create)

# UI Components Added
ui_components:
  - name: collapsible
    file: src/components/ui/collapsible.tsx
    notes: Radix UI collapsible primitive wrapper

  - name: hover-card
    file: src/components/ui/hover-card.tsx
    notes: Radix UI hover card for citation popovers

  - name: tooltip
    file: src/components/ui/tooltip.tsx
    notes: Radix UI tooltip for button hints

# Integration Status
integration:
  status: in_progress
  description: |
    ai-elements components exist. Core components integrated, advanced pending.
  completed:
    - Context (ContextJiraCard) - Shows Jira sources referenced
    - ChainOfThought (ChainOfThoughtCard) - Shows tool execution steps with results
  tasks:
    - Add InlineCitation for source references in text
    - Add Plan for multi-step search strategies
    - Wire up Checkpoint for conversation state
    - Add Confirmation for sensitive actions
    - Consider TaskList as alternative display for tool invocations

# Phase Summary
phases:
  phase_1:
    name: Core Components (High Priority)
    status: COMPLETE
    components: [inline-citation, plan, task]

  phase_2:
    name: Enhanced UX (Medium Priority)
    status: COMPLETE
    components: [chain-of-thought, checkpoint, confirmation, context]

  phase_3:
    name: Nice-to-have (Low Priority)
    status: NOT STARTED
    components: [queue, attachments, shimmer]

  integration:
    name: Wire into Chat Interface
    status: IN PROGRESS (2/7 complete)
    priority: CRITICAL
    completed: [context, chain-of-thought]
    remaining: [inline-citation, plan, checkpoint, confirmation, task]
